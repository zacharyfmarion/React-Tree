!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["React"],t);else{var r="object"==typeof exports?t(require("react")):t(e.React);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";r.r(t);var n=r(0),o=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.x,r=e.y,o=e.id,a=e.r,u=e.labelText,l=e.showLabel,s=e.onClick,f=e.className,c=e.style,d=e.children,h=p(e,["x","y","id","r","labelText","showLabel","onClick","className","style","children"]),y=n.Children.toArray(d)[0];return n.createElement("g",{style:c},!y&&n.createElement("circle",i({cx:t,cy:r,r:a,className:f,fill:"rgb(15, 98, 189)",onClick:s},h)),y&&n.cloneElement(y,i({x:(t||0)-y.props.width/2,y:(r||0)-y.props.height/2,className:f},h)),l&&n.createElement("text",i({style:{fontSize:5},textAnchor:"middle",x:t,y:(r||0)+1.5,onClick:s},h,{fill:"#fff"}),u||o))},t.defaultProps={r:5},t}(n.Component),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t,r){void 0===r&&(r=null);var n=e.get(t);return void 0===n?r:n}var s=function(){function e(e,t,r){this.vertexMap=e,this.nodeSizeMap=t,this.parentMap=this.createParentMap(),this.positionMap=new Map([r]),this.leftNeighborMap=new Map,this.prevNodeMap=new Map}return e.prototype.createParentMap=function(){var e=new Map;return this.vertexMap.forEach(function(t,r){t&&t.forEach(function(t){e.set(t,r)})}),e},e.prototype.hasNode=function(e){return void 0!==this.vertexMap.get(e)},e.prototype.isLeaf=function(e){return 0===l(this.vertexMap,e,[]).length},e.prototype.parent=function(e){return l(this.parentMap,e)},e.prototype.prelim=function(e){var t=this.positionMap.get(e);return t?t.prelim:0},e.prototype.xCoord=function(e){var t=this.positionMap.get(e);return t?t.x:0},e.prototype.yCoord=function(e){var t=this.positionMap.get(e);return t?t.y:0},e.prototype.getCoordinates=function(e){return[this.xCoord(e),this.yCoord(e)]},e.prototype.modifier=function(e){var t=this.positionMap.get(e);return t?t.mod:0},e.prototype.firstChild=function(e){var t=l(this.vertexMap,e,[]);return t.length>0?t[0]:null},e.prototype.prevNode=function(e){return l(this.prevNodeMap,e)},e.prototype.hasLeftSibling=function(e){return null!==this.leftSibling(e)},e.prototype.hasRightSibling=function(e){return null!==this.rightSibling(e)},e.prototype.leftSibling=function(e){var t=this.getSiblings(e),r=t.indexOf(e);return r>0?t[r-1]:null},e.prototype.leftSiblings=function(e){var t=this.getSiblings(e);return t.filter(function(r,n){return n<t.indexOf(e)})},e.prototype.rightSibling=function(e){var t=this.getSiblings(e),r=t.indexOf(e);return t.length-1>r?t[r+1]:null},e.prototype.leftNeighbor=function(e){return l(this.leftNeighborMap,e)},e.prototype.getSiblings=function(e){var t=l(this.parentMap,e);return l(this.vertexMap,t,[])},e.prototype.updatePositionValue=function(e,t){this.positionMap.set(e,u({x:0,y:0,prelim:0,mod:0},this.positionMap.get(e),t))},e.prototype.meanNodeSize=function(e){var t=this;if(!e||0===e.length)throw new Error("Cannot compute mean of input");return e.map(function(e){return l(t.nodeSizeMap,e,0)}).reduce(function(e,t){return e+t})/e.length},e}();function f(e,t,r){return!e.hasNode(t)||(function e(t,r,n,o){t.leftNeighborMap.set(r,t.prevNode(n));t.prevNodeMap.set(n,r);if(t.isLeaf(r)||n===o.maxDepth){var i=t.leftSibling(r);if(null!==i){var p=t.prelim(i)+o.siblingSeparation+t.meanNodeSize([i,r]);t.updatePositionValue(r,{prelim:p})}else t.updatePositionValue(r,{prelim:0})}else{var a=t.firstChild(r),u=a;for(e(t,a,n+1,o);t.hasRightSibling(u);)u=t.rightSibling(u),e(t,u,n+1,o);var l=(t.prelim(a)+t.prelim(u))/2,i=t.leftSibling(r);if(null!==i){var p=t.prelim(i)+o.siblingSeparation+t.meanNodeSize([i,r]),s=p-l;t.updatePositionValue(r,{prelim:p,mod:s}),function(e,t,r,n){var o=e.firstChild(t),i=e.leftNeighbor(o),p=1,a=n.maxDepth-r;for(;null!==o&&null!==i&&p<=a;){for(var u=0,l=0,s=o,f=i,d=0;d<p;d++)s=e.parent(s),f=e.parent(f),l+=e.modifier(s),u+=e.modifier(f);var h=e.prelim(i)+u+n.subtreeSeparation+e.meanNodeSize([o,i])-(e.prelim(o)+l);if(h>0){for(var y=t,v=0;null!==y&&y!==f;)v+=1,y=e.leftSibling(y);if(null===y)return;var g=h/v;for(y=t;y!==f;){var b=e.prelim(y)+h,m=e.modifier(y)+h;h-=g,e.updatePositionValue(y,{prelim:b,mod:m}),y=e.leftSibling(y)}}p+=1,o=e.isLeaf(o)?c(e,t,0,p):e.firstChild(o),i=e.leftNeighbor(o)}}(t,r,n,o)}else t.updatePositionValue(r,{prelim:l})}}(e,t,0,r),e.xTopAdjustment=e.xCoord(t)-e.prelim(t),e.yTopAdjustment=e.yCoord(t),function e(t,r,n,o,i){var p=!0;if(n<=i.maxDepth){var a=t.xTopAdjustment+t.prelim(r)+o,u=t.yTopAdjustment+n*i.levelSeparation;!function(e,t,r){return e>=0&&e<=r.width&&t>=0&&t<=r.height}(a,u,i)?p=!1:(t.updatePositionValue(r,{x:a,y:u}),t.isLeaf(r)||(p=e(t,t.firstChild(r),n+1,o+t.modifier(r),i)),p&&t.hasRightSibling(r)&&(p=e(t,t.rightSibling(r),n,o,i)))}return p}(e,t,0,0,r))}function c(e,t,r,n){if(r>=n)return t;for(var o=t;null===e.firstChild(o)&&e.hasRightSibling(o);)o=e.rightSibling(o);return c(e,o=e.firstChild(o),r+1,n)}var d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTree=function(){var e=t.createTreeGraph();return e?t.props.vertices?t.renderFromVertexMap(e):t.renderFromChildNodes(e):null},t.renderFromVertexMap=function(e){var r=t.props,o=r.vertices,i=r.showLabels;if(!o)return null;var p=[];return o.forEach(function(r,o){var u=e.getCoordinates(o),l=u[0],s=u[1],f=n.createElement(a,{id:o,x:l,y:s,r:t.nodeSizeMap.get(o),showLabel:i,key:o||"0"});p.push(t.createChildConnections(e,o,r)),p.push(f)}),p},t.renderFromChildNodes=function(e){var r=n.Children.toArray(t.props.children),o=[];return n.Children.forEach(r,function(r){var i=e.getCoordinates(r.props.id),p=i[0],a=i[1],u=n.cloneElement(r,{x:p,y:a,r:t.nodeSizeMap.get(r.props.id),showLabel:t.props.showLabels,key:r.props.id});o.push(t.createChildConnections(e,r.props.id,r.props.childNodes||[])),o.push(u)}),o},t.createChildConnections=function(e,t,r){var o=[];return void 0===t?[]:(r.forEach(function(r){var i=e.getCoordinates(t),p=i[0],a=i[1],u=e.getCoordinates(r),l=u[0],s=u[1];o.push(n.createElement("line",{x1:p,y1:a,x2:l,y2:s,stroke:"#000",strokeWidth:1,key:t+"-"+r}))}),o)},t.createTreeGraph=function(){var e=[t.props.rootId||0,{x:t.props.width/2,y:5,prelim:0,mod:0}],r=new s(t.vertexMap,t.nodeSizeMap,e),n=f(r,e[0],{width:t.props.width,height:t.props.height,levelSeparation:t.props.levelSeparation,maxDepth:t.props.maxDepth,siblingSeparation:t.props.siblingSeparation,subtreeSeparation:t.props.subtreeSeparation});return!n&&t.props.onError&&t.props.onError("Tree could not be rendered in the viewing rect"),n?r:null},t}return d(t,e),Object.defineProperty(t.prototype,"vertexMap",{get:function(){var e=this.props,t=e.vertices,r=e.children,o=e.onError;return t||(!r&&o&&o("Children must be passed in if no vertices prop is provided"),new Map(n.Children.toArray(r).map(function(e){return[e.props.id,e.props.childNodes||[]]})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeSizeMap",{get:function(){var e=this.props,t=e.vertices,r=e.onError,o=e.nodeSize,i=e.children;if(t){var p=new Map;return t.forEach(function(e,t){p.set(t,o)}),p}!i&&r&&r("Children must be passed in if no vertices prop is provided");var a=n.Children.toArray(i);return new Map(a.map(function(e){return[e.props.id,e.props.r||5]}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeMap",{get:function(){var e=n.Children.toArray(this.props.children);return new Map(e.map(function(e){return[e.props.id,e]}))},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.width,r=e.height,o=e.className;return n.createElement("svg",{viewBox:"0 0 "+t+" "+r,className:o},this.renderTree())},t.defaultProps={width:200,height:100,rootId:0,nodeSize:5,levelSeparation:20,maxDepth:1/0,siblingSeparation:15,subtreeSeparation:15},t}(n.Component);r.d(t,"Tree",function(){return h}),r.d(t,"Node",function(){return a})}])});