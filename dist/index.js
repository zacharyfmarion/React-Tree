!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["React"],t);else{var r="object"==typeof exports?t(require("react")):t(e.React);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t,r){void 0===r&&(r=null);var n=e.get(t);return void 0===n?r:n}var p=function(){function e(e,t,r){this.vertexMap=e,this.nodeSizeMap=t,this.parentMap=this.createParentMap(),this.positionMap=new Map([r]),this.leftNeighborMap=new Map,this.prevNodeMap=new Map}return e.prototype.createParentMap=function(){var e=new Map;return this.vertexMap.forEach(function(t,r){t&&t.forEach(function(t){e.set(t,r)})}),e},e.prototype.hasNode=function(e){return void 0!==this.vertexMap.get(e)},e.prototype.isLeaf=function(e){return 0===o(this.vertexMap,e,[]).length},e.prototype.parent=function(e){return o(this.parentMap,e)},e.prototype.prelim=function(e){var t=this.positionMap.get(e);return t?t.prelim:0},e.prototype.xCoord=function(e){var t=this.positionMap.get(e);return t?t.x:0},e.prototype.yCoord=function(e){var t=this.positionMap.get(e);return t?t.y:0},e.prototype.getCoordinates=function(e){return[this.xCoord(e),this.yCoord(e)]},e.prototype.modifier=function(e){var t=this.positionMap.get(e);return t?t.mod:0},e.prototype.firstChild=function(e){var t=o(this.vertexMap,e,[]);return t.length>0?t[0]:null},e.prototype.prevNode=function(e){return o(this.prevNodeMap,e)},e.prototype.hasLeftSibling=function(e){return null!==this.leftSibling(e)},e.prototype.hasRightSibling=function(e){return null!==this.rightSibling(e)},e.prototype.leftSibling=function(e){var t=this.getSiblings(e),r=t.indexOf(e);return r>0?t[r-1]:null},e.prototype.leftSiblings=function(e){var t=this.getSiblings(e);return t.filter(function(r,n){return n<t.indexOf(e)})},e.prototype.rightSibling=function(e){var t=this.getSiblings(e),r=t.indexOf(e);return t.length-1>r?t[r+1]:null},e.prototype.leftNeighbor=function(e){return o(this.leftNeighborMap,e)},e.prototype.getSiblings=function(e){var t=o(this.parentMap,e);return o(this.vertexMap,t,[])},e.prototype.updatePositionValue=function(e,t){this.positionMap.set(e,i({x:0,y:0,prelim:0,mod:0},this.positionMap.get(e),t))},e.prototype.meanNodeSize=function(e){var t=this;if(!e||0===e.length)throw new Error("Cannot compute mean of input");return e.map(function(e){return o(t.nodeSizeMap,e,0)}).reduce(function(e,t){return e+t})/e.length},e}();function a(e,t,r){return!e.hasNode(t)||(function e(t,r,n,i){t.leftNeighborMap.set(r,t.prevNode(n));t.prevNodeMap.set(n,r);if(t.isLeaf(r)||n===i.maxDepth){var o=t.leftSibling(r);if(null!==o){var p=t.prelim(o)+i.siblingSeparation+t.meanNodeSize([o,r]);t.updatePositionValue(r,{prelim:p})}else t.updatePositionValue(r,{prelim:0})}else{var a=t.firstChild(r),l=a;for(e(t,a,n+1,i);t.hasRightSibling(l);)l=t.rightSibling(l),e(t,l,n+1,i);var s=(t.prelim(a)+t.prelim(l))/2,o=t.leftSibling(r);if(null!==o){var p=t.prelim(o)+i.siblingSeparation+t.meanNodeSize([o,r]),f=p-s;t.updatePositionValue(r,{prelim:p,mod:f}),function(e,t,r,n){var i=e.firstChild(t),o=e.leftNeighbor(i),p=1,a=n.maxDepth-r;for(;null!==i&&null!==o&&p<=a;){for(var l=0,s=0,f=i,c=o,h=0;h<p;h++)f=e.parent(f),c=e.parent(c),s+=e.modifier(f),l+=e.modifier(c);var d=e.prelim(o)+l+n.subtreeSeparation+e.meanNodeSize([i,o])-(e.prelim(i)+s);if(d>0){for(var g=t,v=0;null!==g&&g!==c;)v+=1,g=e.leftSibling(g);if(null===g)return;var y=d/v;for(g=t;g!==c;){var m=e.prelim(g)+d,b=e.modifier(g)+d;d-=y,e.updatePositionValue(g,{prelim:m,mod:b}),g=e.leftSibling(g)}}p+=1,i=e.isLeaf(i)?u(e,t,0,p):e.firstChild(i),o=e.leftNeighbor(i)}}(t,r,n,i)}else t.updatePositionValue(r,{prelim:s})}}(e,t,0,r),e.xTopAdjustment=e.xCoord(t)-e.prelim(t),e.yTopAdjustment=e.yCoord(t),function e(t,r,n,i,o){var p=!0;if(n<=o.maxDepth){var a=t.xTopAdjustment+t.prelim(r)+i,u=t.yTopAdjustment+n*o.levelSeparation;!function(e,t,r){return e>=0&&e<=r.width&&t>=0&&t<=r.height}(a,u,o)?p=!1:(t.updatePositionValue(r,{x:a,y:u}),t.isLeaf(r)||(p=e(t,t.firstChild(r),n+1,i+t.modifier(r),o)),p&&t.hasRightSibling(r)&&(p=e(t,t.rightSibling(r),n,i,o)))}return p}(e,t,0,0,r))}function u(e,t,r,n){if(r>=n)return t;for(var i=t;null===e.firstChild(i)&&e.hasRightSibling(i);)i=e.rightSibling(i);return u(e,i=e.firstChild(i),r+1,n)}var l=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=10,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTree=function(){var e=t.createTreeGraph();return e?t.renderFromVertexMap(e):null},t.renderFromVertexMap=function(e){var r=t.props,n=r.vertices,i=r.children;if(!n)return null;var o=[];return n.forEach(function(r,n){var p=e.getCoordinates(n),a=p[0],u=p[1],l=i({x:a,y:u,id:n,r:t.nodeSizeMap.get(n)||s,graph:e});o.push(t.createChildConnections(e,n,r)),o.push(l)}),o},t.createChildConnections=function(e,t,r){var i=[];return void 0===t?[]:(r.forEach(function(r){var o=e.getCoordinates(t),p=o[0],a=o[1],u=e.getCoordinates(r),l=u[0],s=u[1];i.push(n.createElement("line",{x1:p,y1:a,x2:l,y2:s,stroke:"#000",strokeWidth:1,key:t+"-"+r}))}),i)},t.createTreeGraph=function(){var e=[t.props.rootId||0,{x:t.props.width/2,y:5,prelim:0,mod:0}],r=new p(t.props.vertices,t.nodeSizeMap,e),n=a(r,e[0],{width:t.props.width,height:t.props.height,levelSeparation:t.props.levelSeparation,maxDepth:t.props.maxDepth,siblingSeparation:t.props.siblingSeparation,subtreeSeparation:t.props.subtreeSeparation});return!n&&t.props.onError&&t.props.onError("Tree could not be rendered in the viewing rect"),n?r:null},t}return l(t,e),Object.defineProperty(t.prototype,"nodeSizeMap",{get:function(){var e=this.props,t=e.vertices,r=e.nodeSize,n=new Map;return t.forEach(function(e,t){n.set(t,r)}),n},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.width,r=e.height,i=e.className;return n.createElement("svg",{viewBox:"0 0 "+t+" "+r,className:i},this.renderTree())},t.defaultProps={width:200,height:100,rootId:0,levelSeparation:20,maxDepth:1/0,siblingSeparation:15,subtreeSeparation:15},t}(n.Component);t.default=f}])});